<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>code.shared.train_client</title>
    <meta name="generator" content="pydoctor 24.11.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="readthedocstheme.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
    
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          FLY-SMOTE-CCMCB <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="apidocs-help-button" title="Help" href="apidocs-help.html"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 10px;">
          <p>For more information on the search, visit the <a href="apidocs-help.html#rst-search">help page</a>.</p>
        </div>
      </div>

    </div>


  </div>

    
        <!-- Side navigation -->
      <div class="sidebarcontainer">
        <nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Module</span>
        <code class="thisobject"><a href="code.shared.train_client.html" class="internal-link" title="This module">train<wbr></wbr>_client</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#train_client" class="internal-link" title="code.shared.train_client.train_client">train<wbr></wbr>_client</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#train_gan_client" class="internal-link" title="code.shared.train_client.train_gan_client">train<wbr></wbr>_gan<wbr></wbr>_client</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_generate_synthetic_data" class="internal-link" title="code.shared.train_client._generate_synthetic_data">_generate<wbr></wbr>_synthetic<wbr></wbr>_data</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_handle_class_imbalance" class="internal-link" title="code.shared.train_client._handle_class_imbalance">_handle<wbr></wbr>_class<wbr></wbr>_imbalance</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_initialize_local_gan" class="internal-link" title="code.shared.train_client._initialize_local_gan">_initialize<wbr></wbr>_local<wbr></wbr>_gan</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_initialize_local_nn" class="internal-link" title="code.shared.train_client._initialize_local_nn">_initialize<wbr></wbr>_local<wbr></wbr>_nn</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_shuffle_data" class="internal-link" title="code.shared.train_client._shuffle_data">_shuffle<wbr></wbr>_data</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#keras_verbose" class="internal-link" title="code.shared.train_client.keras_verbose">keras<wbr></wbr>_verbose</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#logger" class="internal-link" title="code.shared.train_client.logger">logger</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Package</span>
        <code><a href="code.shared.html" class="internal-link" title="The parent of this module">shared</a></code> 
      </div>
      
      <div>
        

        <div class="childrenKindTitle">Modules</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.DatasetLoader.html" class="internal-link" title="code.shared.DatasetLoader"><wbr></wbr>Dataset<wbr></wbr>Loader</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.FlySmote.html" class="internal-link" title="code.shared.FlySmote"><wbr></wbr>Fly<wbr></wbr>Smote</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.GAN.html" class="internal-link" title="code.shared.GAN">GAN</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.helper.html" class="internal-link" title="code.shared.helper">helper</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.logger_config.html" class="internal-link" title="code.shared.logger_config">logger<wbr></wbr>_config</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.NNModel.html" class="internal-link" title="code.shared.NNModel"><wbr></wbr>NNModel</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.structs.html" class="internal-link" title="code.shared.structs">structs</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.train.html" class="internal-link" title="code.shared.train">train</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="code.shared.train_client.html" class="internal-link" title="code.shared.train_client">train<wbr></wbr>_client</a></code>
            </div>
        

    </li>
</ul> 

        
        

        
         

        
         

        
         

        
         
        
      </div>
  </div>

</nav>
        <!-- No sidebar toggle for read the docs theme, the sidebar is always
          visible when the screen is width enough.
        -->
      </div>

    </nav>
    
    <div class="container-fluid">

      <div id="main" class="">
        

        


        <div class="page-header">
          <h1 class="module"><code><code><a href="index.html" class="internal-link">code</a></code><wbr></wbr>.<code><a href="code.shared.html" class="internal-link" title="code.shared">shared</a></code><wbr></wbr>.<code><a href="code.shared.train_client.html" class="internal-link" title="code.shared.train_client">train_client</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          module documentation
        </div>

        <div class="extrasDocstring">
          
          <p></p>
        </div>

        <div class="moduleDocstring">
          <div><p>This Module contains functions and helperfunctions to train a FNN or a GAN of one client.</p></div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id31">
  
  
  <tr class="function">
    
    <td>Function</td>
    <td><code><a href="#train_client" class="internal-link" title="code.shared.train_client.train_client">train<wbr></wbr>_client</a></code></td>
    <td>Trains the client model with the provided data and configuration.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#train_gan_client" class="internal-link" title="code.shared.train_client.train_gan_client">train<wbr></wbr>_gan<wbr></wbr>_client</a></code></td>
    <td>Trains the GAN client and generates synthetic data for class balancing.</td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#keras_verbose" class="internal-link" title="code.shared.train_client.keras_verbose">keras<wbr></wbr>_verbose</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#logger" class="internal-link" title="code.shared.train_client.logger">logger</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_generate_synthetic_data" class="internal-link" title="code.shared.train_client._generate_synthetic_data">_generate<wbr></wbr>_synthetic<wbr></wbr>_data</a></code></td>
    <td>Generates synthetic data for each class using k-SMOTE.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_handle_class_imbalance" class="internal-link" title="code.shared.train_client._handle_class_imbalance">_handle<wbr></wbr>_class<wbr></wbr>_imbalance</a></code></td>
    <td>Handles class imbalance by generating synthetic data if necessary.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_initialize_local_gan" class="internal-link" title="code.shared.train_client._initialize_local_gan">_initialize<wbr></wbr>_local<wbr></wbr>_gan</a></code></td>
    <td>Initializes a local GAN model with the given configuration.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_initialize_local_nn" class="internal-link" title="code.shared.train_client._initialize_local_nn">_initialize<wbr></wbr>_local<wbr></wbr>_nn</a></code></td>
    <td>Initializes a local neural network model with the given configuration.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_shuffle_data" class="internal-link" title="code.shared.train_client._shuffle_data">_shuffle<wbr></wbr>_data</a></code></td>
    <td>Shuffles data and labels randomly.</td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basefunction">
  
  
  <a name="code.shared.train_client.train_client">
    
  </a>
  <a name="train_client">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">train_client</span><span class="function-signature">(client_args: <code><a href="code.shared.structs.ClientConfiguration.html" class="internal-link" title="code.shared.structs.ClientConfiguration">ClientConfiguration</a></code>)</span>:
    
    <a class="headerLink" href="#train_client" title="code.shared.train_client.train_client">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Trains the client model with the provided data and configuration.

This function initializes a local neural network model and trains it with the given client data.
Optionally, if global GAN weights are provided, a GAN model is used for synthetic data generation.
The model is trained using the k-SMOTE technique to handle class imbalance.

Args:
    client_args (ClientConfiguration): Configuration object containing client data and settings.

Returns:
    tuple: A tuple containing:
        - client_name (str): The name of the client.
        - trained model weights (list): The model's weights after training.
        - num_samples (int): The number of samples processed during training.</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="code.shared.train_client.train_gan_client">
    
  </a>
  <a name="train_gan_client">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">train_gan_client</span><span class="function-signature">(client_args: <code><a href="code.shared.structs.GANClientConfiguration.html" class="internal-link" title="code.shared.structs.GANClientConfiguration">GANClientConfiguration</a></code>)</span>:
    
    <a class="headerLink" href="#train_gan_client" title="code.shared.train_client.train_gan_client">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Trains the GAN client and generates synthetic data for class balancing.

This function initializes a GAN model, generates synthetic data using k-SMOTE,
and trains the GAN using the synthetic data. The trained GAN weights are returned.

Args:
    client_args (GANClientConfiguration): Configuration object containing client data and settings.

Returns:
    tuple: A tuple containing:
        - client_name (str): The name of the client.
        - trained generator weights (list): The generator's weights after training.
        - trained discriminator weights (list): The discriminator's weights after training.
        - num_samples (int): The number of synthetic samples generated.</p></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="code.shared.train_client.keras_verbose">
    
  </a>
  <a name="keras_verbose">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">keras_verbose</span> =
    
    <a class="headerLink" href="#keras_verbose" title="code.shared.train_client.keras_verbose">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="code.shared.train_client.logger">
    
  </a>
  <a name="logger">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">logger</span> =
    
    <a class="headerLink" href="#logger" title="code.shared.train_client.logger">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basefunction private">
  
  
  <a name="code.shared.train_client._generate_synthetic_data">
    
  </a>
  <a name="_generate_synthetic_data">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_generate_synthetic_data</span><span class="function-signature">(x_data, y_data, class_labels, k, r)</span>:
    
    <a class="headerLink" href="#_generate_synthetic_data" title="code.shared.train_client._generate_synthetic_data">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Generates synthetic data for each class using k-SMOTE.

Args:
    x_data (np.array): Input data.
    y_data (np.array): Labels.
    class_labels (list): List of class labels.
    k (int): Number of nearest neighbors for k-SMOTE.
    r (float): Number of samples to generate.

Returns:
    tuple: Synthetic data and corresponding labels.</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="code.shared.train_client._handle_class_imbalance">
    
  </a>
  <a name="_handle_class_imbalance">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_handle_class_imbalance</span><span class="function-signature">(x_data, y_data, gan, k_value, r_value, g_value, threshold)</span>:
    
    <a class="headerLink" href="#_handle_class_imbalance" title="code.shared.train_client._handle_class_imbalance">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Handles class imbalance by generating synthetic data if necessary.

This function checks for class imbalance and if the threshold is exceeded,
it generates synthetic samples using a GAN or k-SMOTE to balance the classes.

Args:
    x_data (np.arrray): Input data.
    y_data (np.arrray): Labels.
    gan (ConditionalGAN or None): GAN model to generate synthetic data.
    k_value (int): Number of nearest neighbors for k-SMOTE.
    r_value (float): Number of samples to generate.
    g_value (float): Scaling factor for GAN-generated data.
    threshold (float): Threshold for class imbalance.

Returns:
    tuple: Updated data and labels.</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="code.shared.train_client._initialize_local_gan">
    
  </a>
  <a name="_initialize_local_gan">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_initialize_local_gan</span><span class="function-signature">(x_train, global_gan_weights, disc_weights, noise_dim)</span>:
    
    <a class="headerLink" href="#_initialize_local_gan" title="code.shared.train_client._initialize_local_gan">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Initializes a local GAN model with the given configuration.

Args:
    x_train (np.array): Training data.
    global_gan_weights (list): Global GAN weights.
    disc_weights (list): Discriminator weights.
    noise_dim (int): Dimension of the noise vector for the GAN.

Returns:
    ConditionalGAN: Initialized GAN model.</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="code.shared.train_client._initialize_local_nn">
    
  </a>
  <a name="_initialize_local_nn">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_initialize_local_nn</span><span class="function-signature">(x_train, global_weights, hidden_layer_multiplier, loss_function, lr_schedule, metrics)</span>:
    
    <a class="headerLink" href="#_initialize_local_nn" title="code.shared.train_client._initialize_local_nn">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Initializes a local neural network model with the given configuration.

Args:
    x_train (np.array): Training data.
    global_weights (list): Global model weights.
    hidden_layer_multiplier (int): Multiplier for hidden layers.
    loss_function (str): Loss function for training.
    lr_schedule (any): Learning rate schedule.
    metrics (list): List of metrics for evaluation.

Returns:
    keras.Model: Compiled local neural network model.</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="code.shared.train_client._shuffle_data">
    
  </a>
  <a name="_shuffle_data">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_shuffle_data</span><span class="function-signature">(x_data, y_data)</span>:
    
    <a class="headerLink" href="#_shuffle_data" title="code.shared.train_client._shuffle_data">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Shuffles data and labels randomly.

This function randomly shuffles the data and labels to ensure that the model
is not trained in an ordered sequence, which could lead to overfitting.

Args:
    x_data (np.array): Input data.
    y_data (np.array): Labels.

Returns:
    tuple: Shuffled data and labels.</p></div>
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">
    <hr />
    
    
    <div class="container-fluid">
      <a href="index.html">API Documentation</a> for FLY-SMOTE-CCMCB,
    generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
      24.11.2 at 2025-02-28 21:03:34.
    </div>
    
    <script src="ajax.js" type="text/javascript"></script>
    <script src="searchlib.js" type="text/javascript"></script>
    <script src="search.js" type="text/javascript"></script>
  
  </footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>